<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
    	<link rel="icon" type="image/png" href="images/theme_logo.png" />
    	<title>FK | MumbleLink</title>
   	 <link href="https://fonts.googleapis.com/css?family=Raleway:100,600" rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css" href="css/main.css">

	<link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet" />

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<script src="script/i.js" crossorigin="anonymous"></script>
	<script src="script/i_action.js"></script>
	<h1><a>Page de connexion au Mumble de la FK</a></h1>

	<style>
		body {
			
			font-family: Arial, sans-serif;
			background-color: #101010;
		}

		button {
			border-radius: 4px;
		}

		#mumble-link {
			margin-top: 20%;
			text-align: center;
			color: rgba(145, 82, 0, 0.555);
		}
		h1 {
			margin-top: 10%;
			animation: glow 10s ease-in-out infinite;
			color : orangered;
			text-decoration: wavy;
			color: orange;
		}
	</style>
</head>


<body>

	<script>
		function generateLink() {
			var pseudo = document.getElementById("pseudo").value;
			var mumbleLink = document.getElementById("mumble-link");
			
			if (!pseudo) {

				return;
			}

			// Le champ pseudo est rempli, on peut générer le lien de connexion Mumble
			var mumbleUrl = "mumble://"+ encodeURIComponent(pseudo)+ "@fkmumble.mumble.gg:10013";
			var linkHtml = '<a href="' + mumbleUrl + '" style="color : orange;">Se connecter au serveur Mumble avec le pseudo ' + pseudo + '</a>';
			mumbleLink.innerHTML = linkHtml;
			mumbleLink.style.marginTop = "20px";
			mumbleLink.style.color = "inherit"; // restauration de la couleur du texte
		}

		function displayMumbleInfo() {
			Swal.fire({
				position: 'top-end',
				icon: 'info',
				iconColor: 'orange',
				background: '#FCD1AE' ,
				html: '<strong>IP: fkmumble.mumble.gg<br>Port: 10013<br>Pseudo: PseudoInGame </strong>',
				showConfirmButton: false,
				heightAuto: false
			})
		}
	
		// empêcher la soumission du formulaire lorsque l'utilisateur appuie sur Entrée
		var form = document.querySelector("form");
		form.addEventListener("submit", function (event) {
			event.preventDefault();
		});
	</script>
	
	<form method="post" onsubmit="event.preventDefault();">
	
		<label for="pseudo">Entrez votre pseudo :</label>
		<input type="text" id="pseudo" name="pseudo" required>
		<div class="button-container">
			<button class="generate-button" onclick="generateLink();">Générer le lien de connexion Mumble</button>
			<button class="info-button info-button-custom" type="button" onclick="displayMumbleInfo();">ℹ️</button> 
		</div>
		<div id="mumble-link"></div>
	</form>
	
</body>

<div id="author">
	<a>By Crokmoo</a>
</div>
</html>	
